<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Text area: jquery.ajax-combobox</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="sample.css">
<script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.2/dist/jquery.min.js,npm/bootstrap@3.3/dist/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery.simple-scroll-follow@3.1/dist/jquery.simple-scroll-follow.min.js"></script>
<script src="sample.js"></script>
<script async defer src="https://buttons.github.io/buttons.js"></script>
</head>
<body>
<nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../"><span class="glyphicon glyphicon-home" aria-hidden="true"></span></a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li><a href="basic.html">Basic</a></li>
        <li><a href="sub-info.html">Sub info</a></li>
        <li><a href="others.html">Others</a></li>
        <li class="active"><a href="text-area.html">Text area <span class="sr-only">(current)</span></a></li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>
<header class="jumbotron">
  <div class="container">
    <p>jquery.ajax-combobox</p>
    <h1 class="subpage-title">Text area</h1>
  </div>
</header>
<div class="container">
  <div id="contents" class="row">
    <nav id="index">
      <div id="language" class="btn-group">
        <button id="lang_en" class="btn btn-primary">English</button>
        <button id="lang_ja" class="btn btn-primary">日本語</button>
      </div>
      <h3>
        <span class="lang_en">Index</span>
        <span class="lang_ja">目次</span>
      </h3>
      <div class="list-group">
        <a class="list-group-item" href="#sample08_01">
          <span class="lang_en">Basic</span>
          <span class="lang_ja">テキストエリアの基本</span>
        </a>
        <a class="list-group-item" href="#sample08_02">
          <span class="lang_en">No space</span>
          <span class="lang_ja">タグ補完後に空白を挿入しない</span>
        </a>
        <a class="list-group-item" href="#sample08_03">
          <span class="lang_en">JS object instead of DB</span>
          <span class="lang_ja">DBの代わりにJSオブジェクトを検索する</span>
        </a>
        <a class="list-group-item" href="#sample08_04">
          <span class="lang_en">Multi tag pattern</span>
          <span class="lang_ja">複数のタグパターン</span>
        </a>
        <a class="list-group-item" href="#sample08_05">
          <span class="lang_en">Options</span>
          <span class="lang_ja">タグごとにオプションを設定する</span>
        </a>
        <a class="list-group-item" href="#sample08_06">
          <span class="lang_en">Shorten URL</span>
          <span class="lang_ja">URLを短縮する</span>
        </a>
        <a class="list-group-item" href="#sample08_07">
          <span class="lang_en">Complex</span>
          <span class="lang_ja">両方を使う</span>
        </a>
      </div>
    </nav>
    <article>

      <section id="sample08_01" class="panel panel-primary">
        <div class="panel-heading">
          <h3 class="panel-title">
            <span class="lang_en">Basic</span>
            <span class="lang_ja">テキストエリアの基本</span>
          </h3>
        </div>
        <div class="panel-body">
          <div class="btn-container"><a class="btn btn-primary" href="text-area-basic/" target="_blank">Sample <span class="glyphicon glyphicon-new-window" aria-hidden="true"></span></a></div>
          <p class="lang_en">
            You can search and complement a tag such as "Twitter hashtag" in textarea.<br>
            Set <code>textarea</code> to <code>plugin_type</code> option.
            Specify "start symbol" and "end symbol" by using array.
          </p>
          <p class="lang_ja">
            テキストエリアの中にある、Twitterハッシュタグのような文字列を検索・補完することができます。<br>
            <code>plugin_type</code>オプションに<code>textarea</code>を指定し開始記号と終了記号を設定することで、テキストエリア内でのタグ検索が可能です。
          </p>
<pre>
$('#foo').ajaxComboBox(
  'jquery.ajax-combobox.php',
  {
    <span class="green">plugin_type</span>: <span class="red">'textarea'</span>,
    <span class="green">tags</span>: [
      {
        <span class="green">pattern</span>: <span class="red">['#', '']</span>,
        <span class="green">db_table</span>: <span class="red">'tag'</span>
      }
    ]
  }
);
</pre>
         </div>
      </section>

      <section id="sample08_02" class="panel panel-primary">
        <div class="panel-heading">
          <h3 class="panel-title">
            <span class="lang_en">No space</span>
            <span class="lang_ja">タグ補完後に空白を挿入しない</span>
          </h3>
        </div>
        <div class="panel-body">
          <div class="btn-container"><a class="btn btn-primary" href="text-area-no-space/" target="_blank">Sample <span class="glyphicon glyphicon-new-window" aria-hidden="true"></span></a></div>
          <p class="lang_en">
            In an initial state, a space is inserted after complement.<br>
            You can prevent by using <code>space</code> option.
          </p>
          <p class="lang_ja">
            デフォルトでは、タグ補完後に両側に空白が挿入されます。<br>
            (すでに空白が存在する場合や、行頭、行末の場合は除きます)<br>
            <code>space</code>オプションでこの挙動を変えることができます。
          </p>
<pre>
$('#foo').ajaxComboBox(
  'jquery.ajax-combobox.php',
  {
    plugin_type: 'textarea',
    tags: [
      {
        pattern: ['[', ']'],
        <span class="green">space</span>: [<span class="red">false</span>, <span class="red">false</span>],
        db_table: 'tag'
      }
    ],
  }
);
</pre>
         </div>
      </section>

      <section id="sample08_03" class="panel panel-primary">
        <div class="panel-heading">
          <h3 class="panel-title">
            <span class="lang_en">JS object instead of DB</span>
            <span class="lang_ja">DBの代わりにJSオブジェクトを検索する</span>
          </h3>
        </div>
        <div class="panel-body">
          <div class="btn-container"><a class="btn btn-primary" href="text-area-js-object/" target="_blank">Sample <span class="glyphicon glyphicon-new-window" aria-hidden="true"></span></a></div>
<pre>
var <span class="green">tagData</span> = [
  {id:1,name:'PhysicalEducation',japanese:'体育学'},
  {id:2,name:'Musicology',       japanese:'音楽学'},
  {id:3,name:'Mathematics',      japanese:'数学'},
  ...
];

('#foo').ajaxComboBox(
  <span class="green">tagData</span>,
  {
    plugin_type: 'textarea',
    tags: [
      {
        pattern: ['@', '']
      }
    ],
  }
);
</pre>
         </div>
      </section>

      <section id="sample08_04" class="panel panel-primary">
        <div class="panel-heading">
          <h3 class="panel-title">
            <span class="lang_en">Multi tag pattern</span>
            <span class="lang_ja">複数のタグパターン</span>
          </h3>
        </div>
        <div class="panel-body">
          <div class="btn-container"><a class="btn btn-primary" href="text-area-multi-tag-pattern/" target="_blank">Sample <span class="glyphicon glyphicon-new-window" aria-hidden="true"></span></a></div>
<pre>
$('#foo').ajaxComboBox(
  'jquery.ajax-combobox.php',
  {
    lang: 'en',
    plugin_type: 'textarea',
    tags: [
      { <span class="green">// 1st</span>
        pattern: ['[', ']'],
        space: [false, false],
        db_table: 'tag'
      },
      { <span class="green">// 2nd</span>
        pattern: ['#', ''],
        db_table: 'tag'
      },
      { <span class="green">// 3rd</span>
        pattern: ['@', ''],
        db_table: 'tag'
      }
    ]
  }
);
</pre>
         </div>
      </section>

      <section id="sample08_05" class="panel panel-primary">
        <div class="panel-heading">
          <h3 class="panel-title">
            <span class="lang_en">Options</span>
            <span class="lang_ja">タグごとにオプションを設定する</span>
          </h3>
        </div>
        <div class="panel-body">
          <div class="btn-container"><a class="btn btn-primary" href="text-area-options/" target="_blank">Sample <span class="glyphicon glyphicon-new-window" aria-hidden="true"></span></a></div>
          <p class="lang_en">You can set following options for every tags.</p>
          <p class="lang_ja">下記のオプションをタグごとに設定することができます。</p>
<pre>
tags: [
  {
    db_table: ,
    field: ,
    search_field: ,
    order_by: ,
    sub_info: ,
    sub_as: ,
    show_field: ,
    hide_field: 
  }
]
</pre>
<pre>
$('#foo').ajaxComboBox(
  'jquery.ajax-combobox.php',
  {
    plugin_type: 'textarea',
    tags: [
      {
        pattern: ['[', ']'],
        space: [false, false],
        db_table: 'tag',
        <span class="green">sub_info</span>: true
      },
      {
        pattern: ['#', ''],
        db_table: 'tag',
        sub_info: true,
        <span class="green">sub_as</span>: {
          id: 'TagID',
          japanese: '日本語'
        }
      },
      {
        pattern: ['@', ''],
        db_table: 'tag',
        <span class="green">order_by</span>: 'name DESC'
      }
    ]
  }
);
</pre>
         </div>
      </section>

      <section id="sample08_06" class="panel panel-primary">
        <div class="panel-heading">
          <h3 class="panel-title">
            <span class="lang_en">Shorten URL</span>
            <span class="lang_ja">URLを短縮する</span>
          </h3>
        </div>
        <div class="panel-body">
          <div class="btn-container"><a class="btn btn-primary" href="shorten-url/" target="_blank">Sample <span class="glyphicon glyphicon-new-window" aria-hidden="true"></span></a></div>
          <p class="lang_en">
            The result of having shortened URL using external service can be made to reflect in text area. <br>
            At present, it corresponds only to service of "bit.ly". 
          </p>
          <p class="lang_ja">
            外部サービスを利用してURLを短縮した結果を、テキストエリア内に反映させることができます。<br>
            現在のところ、"bit.ly"にしか対応していません。<br>
          </p>
<pre>
$('#foo').ajaxComboBox(
  'jquery.ajax-combobox.php',
  {
    plugin_type: 'textarea',
    <span class="green">shorten_btn</span>: <span class="red">'#foo-shorten'</span>,
    <span class="green">shorten_src</span>: <span class="red">'bitly.php'</span>,
    <span class="green">shorten_min</span>: <span class="red">20</span>
  }
);
</pre>
         </div>
      </section>

      <section id="sample08_07" class="panel panel-primary">
        <div class="panel-heading">
          <h3 class="panel-title">
            <span class="lang_en">Complex</span>
            <span class="lang_ja">両方を使う</span>
          </h3>
        </div>
        <div class="panel-body">
          <div class="btn-container"><a class="btn btn-primary" href="text-area-complex/" target="_blank">Sample <span class="glyphicon glyphicon-new-window" aria-hidden="true"></span></a></div>
          <p class="lang_en">
            By combining "Complement a tag" and "Shorten URL", the contribution to external service such as "Twitter" becomes convenient. 
          </p>
          <p class="lang_ja">
            タグ補完とURL短縮を組み合わせることで、Twitterなどの外部サービスとの連携が便利になります。
          </p>
<pre>
$('#foo').ajaxComboBox(
  'jquery.ajax-combobox.php',
  {
    plugin_type: 'textarea',
    db_table: 'tag',
    shorten_btn: '#foo-shorten',
    shorten_src: 'bitly.php',
    shorten_min: 20,
    tags: [
      {
        pattern: ['[', ']'],
        space: [false, false]
      },
      {
        pattern: ['#', '']
      },
      {
        pattern: ['@', '']
      }
    ]
  }
);
</pre>
        </div>
      </section>
    </article>
  </div><!-- .row -->
</div><!-- .container -->
<footer>
  <div class="container">
    powered by <a href="http://www.usamimi.info/new/index.html">usamimi.info</a>, <a href="https://getbootstrap.com/">Bootstrap</a>
  </div>
</footer>
<div id="jump_to_top">
  <a href="#" class="glyphicon glyphicon-upload" aria-hidden="true"></a>
</div>
</body>
</html>
